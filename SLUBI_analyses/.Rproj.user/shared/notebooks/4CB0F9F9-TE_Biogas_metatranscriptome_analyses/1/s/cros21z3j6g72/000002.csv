"0","# Create data needed throughout the analysis"
"0","## Since salmon provides transcript-level estimates only, we need a two-column data frame (tx2gene) linking transcript id (column 1) to gene id (column 2)."
"0",""
"0","quant.files <- Sys.glob(""Metatranscriptome/salmon/*/quant.sf"")"
"0","tx2gene <-  quant.files %>%"
"0","            map(read_tsv) %>%    # read in all the files individually, using"
"0","                                 # the function read_csv() from the readr package"
"0","            reduce(rbind) %>%    # reduce with rbind into one dataframe"
"0","            transmute(transcript.id=Name,"
"0","                      gene.id=Name)"
"2","Parsed with column specification:
cols(
  Name = [31mcol_character()[39m,
  Length = [32mcol_double()[39m,
  EffectiveLength = [32mcol_double()[39m,
  TPM = [32mcol_double()[39m,
  NumReads = [32mcol_double()[39m
)
"
"2","Parsed with column specification:
cols(
  Name = [31mcol_character()[39m,
  Length = [32mcol_double()[39m,
  EffectiveLength = [32mcol_double()[39m,
  TPM = [32mcol_double()[39m,
  NumReads = [32mcol_double()[39m
)
"
"2","Parsed with column specification:
cols(
  Name = [31mcol_character()[39m,
  Length = [32mcol_double()[39m,
  EffectiveLength = [32mcol_double()[39m,
  TPM = [32mcol_double()[39m,
  NumReads = [32mcol_double()[39m
)
"
"2","Parsed with column specification:
cols(
  Name = [31mcol_character()[39m,
  Length = [32mcol_double()[39m,
  EffectiveLength = [32mcol_double()[39m,
  TPM = [32mcol_double()[39m,
  NumReads = [32mcol_double()[39m
)
"
"2","Parsed with column specification:
cols(
  Name = [31mcol_character()[39m,
  Length = [32mcol_double()[39m,
  EffectiveLength = [32mcol_double()[39m,
  TPM = [32mcol_double()[39m,
  NumReads = [32mcol_double()[39m
)
"
"2","Parsed with column specification:
cols(
  Name = [31mcol_character()[39m,
  Length = [32mcol_double()[39m,
  EffectiveLength = [32mcol_double()[39m,
  TPM = [32mcol_double()[39m,
  NumReads = [32mcol_double()[39m
)
"
"0","## Read counts into tximport for single "
"0","files <- file.path(""Metatranscriptome/salmon"", metadata$Sample, ""quant.sf"")"
"0","names(files) <- paste0(""sample"", 1:6)"
"0","#all(file.exists(files))"
"0","se <- tximport(files, type = ""salmon"", tx2gene = tx2gene)"
"2","reading in files with read_tsv
"
"2","1 "
"2","2 "
"2","3 "
"2","4 "
"2","5 "
"2","6 "
"2","
"
"2","removing duplicated transcript rows from tx2gene
"
"2","summarizing abundance
"
"2","summarizing counts
"
"2","summarizing length
"
